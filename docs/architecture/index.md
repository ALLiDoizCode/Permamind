# Agent Skills Registry Architecture Document

## Table of Contents

- [Agent Skills Registry Architecture Document](#table-of-contents)
  - [Introduction](./introduction.md)
    - [Starter Template or Existing Project](./introduction.md#starter-template-or-existing-project)
    - [Change Log](./introduction.md#change-log)
  - [High Level Architecture](./high-level-architecture.md)
    - [Technical Summary](./high-level-architecture.md#technical-summary)
    - [High Level Overview](./high-level-architecture.md#high-level-overview)
    - [High Level Project Diagram](./high-level-architecture.md#high-level-project-diagram)
    - [Architectural and Design Patterns](./high-level-architecture.md#architectural-and-design-patterns)
  - [Tech Stack](./tech-stack.md)
    - [Cloud Infrastructure](./tech-stack.md#cloud-infrastructure)
    - [Technology Stack Table](./tech-stack.md#technology-stack-table)
  - [Data Models](./data-models.md)
    - [Skill Metadata Model](./data-models.md#skill-metadata-model)
    - [Skill Bundle Model](./data-models.md#skill-bundle-model)
    - [Installed Skill Record Model](./data-models.md#installed-skill-record-model)
    - [Lock File Structure Model](./data-models.md#lock-file-structure-model)
    - [AO Registry Message Models](./data-models.md#ao-registry-message-models)
  - [Components](./components.md)
    - [CLI Command Router](./components.md#cli-command-router)
    - [Publish Command Module](./components.md#publish-command-module)
    - [Search Command Module](./components.md#search-command-module)
    - [Install Command Module](./components.md#install-command-module)
    - [Manifest Parser](./components.md#manifest-parser)
    - [Bundler](./components.md#bundler)
    - [Arweave Client](./components.md#arweave-client)
    - [AO Registry Client](./components.md#ao-registry-client)
    - [Dependency Resolver](./components.md#dependency-resolver)
      - [Circular Dependency Detection (DFS with Three-Color Marking)](./components.md#circular-dependency-detection-dfs-with-three-color-marking)
      - [Topological Sort (Kahn's Algorithm)](./components.md#topological-sort-kahns-algorithm)
    - [Lock File Manager](./components.md#lock-file-manager)
    - [Wallet Manager](./components.md#wallet-manager)
    - [AO Registry Process (Lua)](./components.md#ao-registry-process-lua)
    - [Component Diagrams](./components.md#component-diagrams)
  - [External APIs](./external-apis.md)
    - [Arweave Network API](./external-apis.md#arweave-network-api)
      - [Upload Transaction (Bundle Storage)](./external-apis.md#upload-transaction-bundle-storage)
      - [Download Bundle by TXID](./external-apis.md#download-bundle-by-txid)
      - [Check Wallet Balance](./external-apis.md#check-wallet-balance)
      - [Transaction Status](./external-apis.md#transaction-status)
    - [AO Network API (via @permaweb/aoconnect)](./external-apis.md#ao-network-api-via-permawebaoconnect)
      - [Send Message to AO Process](./external-apis.md#send-message-to-ao-process)
      - [Query AO Process (Dry Run)](./external-apis.md#query-ao-process-dry-run)
  - [Core Workflows](./core-workflows.md)
    - [Workflow 1: Publish Skill (New Registration)](./core-workflows.md#workflow-1-publish-skill-new-registration)
    - [Workflow 2: Search Skills](./core-workflows.md#workflow-2-search-skills)
    - [Workflow 3: Install Skill with Dependencies](./core-workflows.md#workflow-3-install-skill-with-dependencies)
  - [Database Schema](./database-schema.md)
    - [1. AO Registry Process State (Lua Tables)](./database-schema.md#1-ao-registry-process-state-lua-tables)
    - [2. Arweave Permanent Storage](./database-schema.md#2-arweave-permanent-storage)
    - [3. Local Lock File (JSON)](./database-schema.md#3-local-lock-file-json)
  - [Source Tree](./source-tree.md)
  - [Infrastructure and Deployment](./infrastructure-and-deployment.md)
    - [Infrastructure as Code](./infrastructure-and-deployment.md#infrastructure-as-code)
    - [Deployment Strategy](./infrastructure-and-deployment.md#deployment-strategy)
    - [Environments](./infrastructure-and-deployment.md#environments)
    - [Environment Promotion Flow](./infrastructure-and-deployment.md#environment-promotion-flow)
    - [Rollback Strategy](./infrastructure-and-deployment.md#rollback-strategy)
  - [Error Handling Strategy](./error-handling-strategy.md)
    - [General Approach](./error-handling-strategy.md#general-approach)
    - [Logging Standards](./error-handling-strategy.md#logging-standards)
    - [Error Handling Patterns](./error-handling-strategy.md#error-handling-patterns)
  - [Coding Standards](./coding-standards.md)
    - [Core Standards](./coding-standards.md#core-standards)
    - [Naming Conventions](./coding-standards.md#naming-conventions)
    - [Critical Rules](./coding-standards.md#critical-rules)
  - [Test Strategy and Standards](./test-strategy-and-standards.md)
    - [Testing Philosophy](./test-strategy-and-standards.md#testing-philosophy)
    - [Test Types and Organization](./test-strategy-and-standards.md#test-types-and-organization)
    - [TDD Workflow](./test-strategy-and-standards.md#tdd-workflow)
    - [Test Scripts](./test-strategy-and-standards.md#test-scripts)
  - [Security](./security.md)
    - [Input Validation](./security.md#input-validation)
    - [Authentication & Authorization](./security.md#authentication-authorization)
    - [Secrets Management](./security.md#secrets-management)
    - [API Security](./security.md#api-security)
    - [Data Protection](./security.md#data-protection)
    - [Dependency Security](./security.md#dependency-security)
    - [Security Testing](./security.md#security-testing)
  - [Checklist Results Report](./checklist-results-report.md)
  - [Next Steps](./next-steps.md)
    - [Architect Prompt](./next-steps.md#architect-prompt)
